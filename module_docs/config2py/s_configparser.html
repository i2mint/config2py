<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>config2py.s_configparser &mdash; config2py 0.1.13 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/toggleprompt.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="config2py.tests" href="tests.html" />
    <link rel="prev" title="config2py.errors" href="errors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            config2py
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../config2py.html">config2py</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">config2py.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">config2py.errors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">config2py.s_configparser</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">config2py.tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/util.html">config2py.tests.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">config2py.tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">config2py.util</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">config2py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">config2py.s_configparser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/config2py/s_configparser.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-config2py.s_configparser">
<span id="config2py-s-configparser"></span><h1>config2py.s_configparser<a class="headerlink" href="#module-config2py.s_configparser" title="Permalink to this headline">¶</a></h1>
<p>Data Object Layer for configparser standard lib.</p>
<dl class="py class">
<dt id="config2py.s_configparser.ConfigReader">
<em class="property">class </em><code class="sig-prename descclassname">config2py.s_configparser.</code><code class="sig-name descname">ConfigReader</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">*</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">dict_type=&lt;class 'dict'&gt;</em>, <em class="sig-param">allow_no_value=False</em>, <em class="sig-param">target_kind=None</em>, <em class="sig-param">**more_config_parser_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/config2py/s_configparser.html#ConfigReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.ConfigReader" title="Permalink to this definition">¶</a></dt>
<dd><p>A KvReader to read config files
&gt;&gt;&gt; from config2py.s_configparser import ConfigReader
&gt;&gt;&gt;
&gt;&gt;&gt; # from a (pretend) file
&gt;&gt;&gt; from io import BytesIO, StringIO
&gt;&gt;&gt; file_content_bytes = b’’’
… [Paths]
… home_dir: /Users
… my_dir: %(home_dir)s/lumberjack
… my_pictures: %(my_dir)s/Pictures
…
… [Escape]
… gain: 80%%  # use a %% to escape the % sign (% is the only character that needs to be escaped)’’’
&gt;&gt;&gt; c = ConfigReader(file_content_bytes)  # get configs from the bytes
&gt;&gt;&gt; list(c)
[‘DEFAULT’, ‘Paths’, ‘Escape’]
&gt;&gt;&gt; ######## From a (pretend) file (pointer) ########
&gt;&gt;&gt; # Usually, you write your configs in a file and give ConfigReader the filepath, or open file pointer…
&gt;&gt;&gt; pretend_file_pointer = StringIO(file_content_bytes.decode())
&gt;&gt;&gt; c = ConfigReader(pretend_file_pointer)
&gt;&gt;&gt; list(c)
[‘DEFAULT’, ‘Paths’, ‘Escape’]
&gt;&gt;&gt; c[‘Paths’]  # gives you a configparser.Section object
&lt;Section: Paths&gt;
&gt;&gt;&gt; # A configparser.Section is a mapping. Let’s see the keys
&gt;&gt;&gt; list(c[‘Paths’])
[‘home_dir’, ‘my_dir’, ‘my_pictures’]</p>
<p># &gt;&gt;&gt; # here’s a quick way to see both keys and values. Note how the home_dir interpolation was performed!
# &gt;&gt;&gt; dict(c[‘Paths’])
# {‘home_dir’: ‘/Users’, ‘my_dir’: ‘/Users/lumberjack’, ‘my_pictures’: ‘/Users/lumberjack/Pictures’}</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">######## Get configs from a dict ########</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;section1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;key1&#39;</span><span class="p">:</span> <span class="s1">&#39;value1&#39;</span><span class="p">},</span>
<span class="gp">... </span>               <span class="s1">&#39;section2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;keyA&#39;</span><span class="p">:</span> <span class="s1">&#39;valueA&#39;</span><span class="p">,</span> <span class="s1">&#39;keyB&#39;</span><span class="p">:</span> <span class="s1">&#39;valueB&#39;</span><span class="p">},</span>
<span class="gp">... </span>               <span class="s1">&#39;section3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="s1">&#39;z&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">ConfigReader</span><span class="p">(</span><span class="n">config_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;DEFAULT&#39;</span><span class="p">,</span> <span class="s1">&#39;section1&#39;</span><span class="p">,</span> <span class="s1">&#39;section2&#39;</span><span class="p">,</span> <span class="s1">&#39;section3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;section3&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">######## Get configs from a string ########</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">config2py.s_configparser</span> <span class="kn">import</span> <span class="n">_test_config_str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">ConfigReader</span><span class="p">(</span><span class="n">_test_config_str</span><span class="p">,</span> <span class="n">allow_no_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">[&#39;DEFAULT&#39;, &#39;Simple Values&#39;, &#39;All Values Are Strings&#39;, &#39;Multiline Values&#39;, &#39;No Values&#39;, &#39;You can use comments&#39;, &#39;Sections Can Be Indented&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;Simple Values&#39;</span><span class="p">])</span>
<span class="go">[&#39;key&#39;, &#39;spaces in keys&#39;, &#39;spaces in values&#39;, &#39;spaces around the delimiter&#39;, &#39;you can also use&#39;]</span>
</pre></div>
</div>
<dl class="py method">
<dt id="config2py.s_configparser.ConfigReader.persist">
<code class="sig-name descname">persist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/config2py/s_configparser.html#ConfigReader.persist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.ConfigReader.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists the data (if not in a context manager).
Persists means to call</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="config2py.s_configparser.ConfigStore">
<em class="property">class </em><code class="sig-prename descclassname">config2py.s_configparser.</code><code class="sig-name descname">ConfigStore</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">*</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">dict_type=&lt;class 'dict'&gt;</em>, <em class="sig-param">allow_no_value=False</em>, <em class="sig-param">target_kind=None</em>, <em class="sig-param">**more_config_parser_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/config2py/s_configparser.html#ConfigStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.ConfigStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Persister (read, write, delete) for ini configs.</p>
<p>You can read ini formated configurations with ConfigStore (though if you want to
just read, you should use ConfigReader instead – since ConfigReader disables
write and delete operations.</p>
<p>See ConfigReader for more examples of how to use ConfigStore.
We’ll mainly focus on write and delete operations here.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">config2py.s_configparser</span> <span class="kn">import</span> <span class="n">ConfigStore</span><span class="p">,</span> <span class="n">ConfigReader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ini_filepath</span> <span class="o">=</span> <span class="s1">&#39;config_store_test.ini&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span>  <span class="c1"># File doesn&#39;t exist</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">ConfigStore</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="c1"># There&#39;s always a default (by default empty)</span>
<span class="go">[&#39;DEFAULT&#39;]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span>  <span class="c1"># But the file still doesn&#39;t exist (the DEFAULT is virtual)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Now let&#39;s make a config</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;nothing&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;special&#39;</span><span class="p">:</span> <span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[&#39;DEFAULT&#39;, &#39;nothing&#39;]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span>  <span class="c1"># But NOW the file exists (ConfigStore will automatically write to file)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;add&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;more&#39;</span><span class="p">:</span> <span class="s1">&#39;sections&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[&#39;DEFAULT&#39;, &#39;nothing&#39;, &#39;add&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># and yes, that config can now be read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_reader</span> <span class="o">=</span> <span class="n">ConfigReader</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">config_reader</span><span class="p">)</span>
<span class="go">[&#39;DEFAULT&#39;, &#39;nothing&#39;, &#39;add&#39;]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_reader</span><span class="p">[</span><span class="s1">&#39;nothing&#39;</span><span class="p">]</span>
<span class="go">&lt;Section: nothing&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">(</span><span class="n">config_reader</span><span class="p">[</span><span class="s1">&#39;nothing&#39;</span><span class="p">])</span>  <span class="c1"># note that 42 is now a string (that&#39;s the ini format for you!)</span>
<span class="go">{&#39;special&#39;: &#39;about&#39;, &#39;number&#39;: &#39;42&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span><span class="p">(</span><span class="n">config_reader</span><span class="p">[</span><span class="s1">&#39;DEFAULT&#39;</span><span class="p">])</span>  <span class="c1"># and DEFAULT is empty</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>You can delete sections
&gt;&gt;&gt; del s[‘add’]</p>
<p>But you’ll need to refresh your reader to see the effect.
&gt;&gt;&gt; list(config_reader)
[‘DEFAULT’, ‘nothing’, ‘add’]
&gt;&gt;&gt; config_reader = ConfigReader(ini_filepath)
&gt;&gt;&gt; list(config_reader)
[‘DEFAULT’, ‘nothing’]</p>
<p>You can use <cite>update</cite> to write several sections at the same time.
Note that existing sections will be completely overwritten.
&gt;&gt;&gt; s.update({‘nothing’: {‘like’: ‘you’}, ‘new_section’: {‘a’: ‘b’, ‘c’: ‘d’}})
&gt;&gt;&gt; ConfigReader(ini_filepath).to_dict()
{‘DEFAULT’: {}, ‘nothing’: {‘like’: ‘you’}, ‘new_section’: {‘a’: ‘b’, ‘c’: ‘d’}}</p>
<p><strong>Warning: On the other hand, updating a section will not persist the updates</strong></p>
<p>Updates are automatically persisted at the top level, as shown in the example above.
This means you can change a section entirely, but partial updates of a section
will not be persisted.</p>
<p>You’ll see the updated section in the store.
&gt;&gt;&gt; s[‘nothing’].update({‘something’: ‘else’})
&gt;&gt;&gt; dict(s[‘nothing’])
{‘like’: ‘you’, ‘something’: ‘else’}</p>
<p>But it’s not automatically persisted
&gt;&gt;&gt; dict(ConfigReader(ini_filepath)[‘nothing’])
{‘like’: ‘you’}</p>
<p>… unless you ask for it explicitly
&gt;&gt;&gt; s.persist()
&gt;&gt;&gt; dict(ConfigReader(ini_filepath)[‘nothing’])
{‘like’: ‘you’, ‘something’: ‘else’}</p>
<p># TODO: Could make section updates auto-persistent by wrapping configparser.SectionProxy</p>
<p>For your convenience, the ConfigStore is also a context manager, that will,
you guessed, persist stuff when (and only when) you exit it.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ConfigReader</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<span class="go">{&#39;DEFAULT&#39;: {}, &#39;nothing&#39;: {&#39;like&#39;: &#39;you&#39;, &#39;something&#39;: &#39;else&#39;}, &#39;new_section&#39;: {&#39;a&#39;: &#39;b&#39;, &#39;c&#39;: &#39;d&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ConfigStore</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;new_section&#39;</span><span class="p">]</span>  <span class="c1"># that&#39;s usually immediately persisted. This time, it&#39;ll wait to be</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;nothing&#39;</span><span class="p">][</span><span class="s1">&#39;something&#39;</span><span class="p">]</span>  <span class="c1"># delete the something field of nothing section</span>
<span class="gp">... </span>    <span class="n">s</span><span class="p">[</span><span class="s1">&#39;nothing&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;like&#39;</span><span class="p">:</span> <span class="s1">&#39;that&#39;</span><span class="p">,</span> <span class="s1">&#39;ever&#39;</span><span class="p">:</span> <span class="s1">&#39;happened&#39;</span><span class="p">})</span>  <span class="c1"># update &#39;like&#39; config and add an &#39;ever&#39; one</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ConfigReader</span><span class="p">(</span><span class="n">ini_filepath</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<span class="go">{&#39;DEFAULT&#39;: {}, &#39;nothing&#39;: {&#39;like&#39;: &#39;that&#39;, &#39;ever&#39;: &#39;happened&#39;}}</span>
</pre></div>
</div>
<dl class="py class">
<dt id="config2py.s_configparser.ConfigStore.BasicInterpolation">
<em class="property">class </em><code class="sig-name descname">BasicInterpolation</code><a class="headerlink" href="#config2py.s_configparser.ConfigStore.BasicInterpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolation as implemented in the classic ConfigParser.</p>
<p>The option values can contain format strings which refer to other values in
the same section, or values in the special default section.</p>
<p>For example:</p>
<blockquote>
<div><p>something: %(dir)s/whatever</p>
</div></blockquote>
<p>would resolve the “%(dir)s” to the value of dir.  All reference
expansions are done late, on demand. If a user needs to use a bare % in
a configuration file, she can escape it by writing %%. Other % usage
is considered a user error and raises <cite>InterpolationSyntaxError</cite>.</p>
<dl class="py method">
<dt id="config2py.s_configparser.ConfigStore.BasicInterpolation.before_get">
<code class="sig-name descname">before_get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parser</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em>, <em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">defaults</span></em><span class="sig-paren">)</span><a class="headerlink" href="#config2py.s_configparser.ConfigStore.BasicInterpolation.before_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="config2py.s_configparser.ConfigStore.BasicInterpolation.before_set">
<code class="sig-name descname">before_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parser</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#config2py.s_configparser.ConfigStore.BasicInterpolation.before_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="config2py.s_configparser.ConfigStore.ExtendedInterpolation">
<em class="property">class </em><code class="sig-name descname">ExtendedInterpolation</code><a class="headerlink" href="#config2py.s_configparser.ConfigStore.ExtendedInterpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced variant of interpolation, supports the syntax used by
<cite>zc.buildout</cite>. Enables interpolation between sections.</p>
<dl class="py method">
<dt id="config2py.s_configparser.ConfigStore.ExtendedInterpolation.before_get">
<code class="sig-name descname">before_get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parser</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em>, <em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">defaults</span></em><span class="sig-paren">)</span><a class="headerlink" href="#config2py.s_configparser.ConfigStore.ExtendedInterpolation.before_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="config2py.s_configparser.ConfigStore.ExtendedInterpolation.before_set">
<code class="sig-name descname">before_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parser</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#config2py.s_configparser.ConfigStore.ExtendedInterpolation.before_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="config2py.s_configparser.ConfigStore.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/config2py/s_configparser.html#ConfigStore.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.ConfigStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Needed because the Store.get didn’t catch the NoSectionError</p>
</dd></dl>

<dl class="py method">
<dt id="config2py.s_configparser.ConfigStore.persist">
<code class="sig-name descname">persist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/config2py/s_configparser.html#ConfigStore.persist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.ConfigStore.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists the data (if not in a context manager).
Persists means to call</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="config2py.s_configparser.postprocess_ini_section_items">
<code class="sig-prename descclassname">config2py.s_configparser.</code><code class="sig-name descname">postprocess_ini_section_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Mapping<span class="p">, </span>Iterable<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Generator<a class="reference internal" href="../../_modules/config2py/s_configparser.html#postprocess_ini_section_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.postprocess_ini_section_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform newline-separated string values into actual list of strings (assuming that intent)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">section_from_ini</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;aspyre&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;keywords&#39;</span><span class="p">:</span> <span class="s1">&#39;</span><span class="se">\n\t</span><span class="s1">documentation</span><span class="se">\n\t</span><span class="s1">packaging</span><span class="se">\n\t</span><span class="s1">publishing&#39;</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section_for_python</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">postprocess_ini_section_items</span><span class="p">(</span><span class="n">section_from_ini</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section_for_python</span>
<span class="go">{&#39;name&#39;: &#39;aspyre&#39;, &#39;keywords&#39;: [&#39;documentation&#39;, &#39;packaging&#39;, &#39;publishing&#39;]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="config2py.s_configparser.preprocess_ini_section_items">
<code class="sig-prename descclassname">config2py.s_configparser.</code><code class="sig-name descname">preprocess_ini_section_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Mapping<span class="p">, </span>Iterable<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Generator<a class="reference internal" href="../../_modules/config2py/s_configparser.html#preprocess_ini_section_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.preprocess_ini_section_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform list values into newline-separated strings, in view of writing the value to a ini formatted section
&gt;&gt;&gt; section = {
…     ‘name’: ‘aspyre’,
…     ‘keywords’: [‘documentation’, ‘packaging’, ‘publishing’]
… }
&gt;&gt;&gt; for_ini = dict(preprocess_ini_section_items(section))
&gt;&gt;&gt; print(‘keywords =’ + for_ini[‘keywords’])  # doctest: +NORMALIZE_WHITESPACE
keywords =</p>
<blockquote>
<div><p>documentation
packaging
publishing</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="config2py.s_configparser.super_and_persist">
<code class="sig-prename descclassname">config2py.s_configparser.</code><code class="sig-name descname">super_and_persist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">super_cls</span></em>, <em class="sig-param"><span class="n">method_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/config2py/s_configparser.html#super_and_persist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config2py.s_configparser.super_and_persist" title="Permalink to this definition">¶</a></dt>
<dd><p>To be able to do this:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">__setitem__</span> <span class="pre">=</span> <span class="pre">super_and_persist(ConfigParser,</span> <span class="pre">'__setitem__')</span>
<span class="pre">__delitem__</span> <span class="pre">=</span> <span class="pre">super_and_persist(ConfigParser,</span> <span class="pre">'__delitem__')</span>
<span class="pre">`</span></code>
in your class definition block.</p>
<p>I thought I needed to wrap more method this way, but as it turns out, I might not,
so I prefer open code.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="errors.html" class="btn btn-neutral float-left" title="config2py.errors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tests.html" class="btn btn-neutral float-right" title="config2py.tests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>